<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ORNO 433MHz RC switch/socket codes calculator</title>
  <script src="calculator.js" defer></script>
  <!-- 
      https://github.com/pskowronek/433-rc-switch-orno
      ~90% of it was generated by chatGPT (https://chat.openai.com/share/0981f9a2-b830-441f-970e-718a86f4a9fb) and then modified by me.
      It was a test whether chatGPT 3.5 can create a full working html page when provided details of algorithm etc... and apparently not :)
      It took me 2h to explain faults in the generated html/js so it could generate a working version.
      And, the page has that unique 90s look and feel :)
  -->
</head>
<body>
  <h1>ORNO 433MHz RC switch/socket codes calculator</h1>
  <h3>
    Codes calculator for ORNO 433MHz OR-GB-405 RC switches.<br/>
    Details can be found here: <a href="https://github.com/pskowronek/433-rc-switch-orno" target="_blank">https://github.com/pskowronek/433-rc-switch-orno</a>
  </h3>

  <div>
    <div>
      <img src="example.jpg" width="350px" title="ORNO switch configuration example" alt="ORNO switch configuration example"/>
    </div>
    <div class="checkbox-row" id="systemCode" style="display: inline-block; margin-right: 10px;">
      <div>System code<br/><small>Up -> checked</small><br/><small>Down -> unchecked</small></div>
      <!-- Checkboxes for systemCode -->
      <input type="checkbox" id="s1" checked onclick="checkboxStateChanged('result')">
      <input type="checkbox" id="s2" checked onclick="checkboxStateChanged('result')">
      <input type="checkbox" id="s3" checked onclick="checkboxStateChanged('result')">
      <input type="checkbox" id="s4" checked onclick="checkboxStateChanged('result')">
      <input type="checkbox" id="s5" checked onclick="checkboxStateChanged('result')">
    </div>

    <div class="checkbox-row" id="unitCode" style="display: inline-block">
      <div>Unit code<br/><small>i.e. button on a remote - A->E</small><br/><small>only one checked!</small></div>
      <!-- Checkboxes for unitCode -->
      <input type="checkbox" id="u1" onclick="checkboxStateChanged('result')">
      <input type="checkbox" id="u2" onclick="checkboxStateChanged('result')">
      <input type="checkbox" id="u3" onclick="checkboxStateChanged('result')">
      <input type="checkbox" id="u4" onclick="checkboxStateChanged('result')">
      <input type="checkbox" id="u5" checked onclick="checkboxStateChanged('result')">
    </div>
  </div>

  <hr/>
  <div>Results</div>
  <p/>
  
  <div id="result">
    <div class="codeResult">
      <div><b>Tri-state code</b></div>
        ON: <div class="codeResultON" style="display: inline-block">[placeholder]</div>
        OFF: <div class="codeResultOFF" style="display: inline-block">[placeholder]</div>
      <p/>      
      <div>
        <div><a href="https://github.com/ninjablocks/433Utils" target="_blank">433Utils -> RPi_utils</a> C++ example:</div>
        <div><small>(using <a href="https://github.com/sui77/rc-switch/" target="_blank">rc-switch</a> library, so Arduino compatible)</small></div>
        <div>
          <code>
            mySwitch.setProtocol({ 80, {  3,  25 }, {  3,  13 }, {  11,  5 }});<br/>
            mySwitch.sendTriState("<div class="codeResultON" style="display: inline-block">[placeholder]</div>"); // ON<br/>
            mySwitch.sendTriState("<div class="codeResultOFF" style="display: inline-block">[placeholder]</div>"); // OFF<br/>
          </code>
        </div>
      </div>

    </div>
    <p/>
    <div class="binaryResult">
      <div><b>Binary code</b></div>
        ON: <div class="binaryResultON" style="display: inline-block">[placeholder]</div>
        OFF: <div class="binaryResultOFF" style="display: inline-block">[placeholder]</div>
      <p/>
      <div>
        <div>Useful when using <a href="https://github.com/merbanan/rtl_433" target="_blank">rtl_433</a> SDR to verify the protocol</div>
        <div><small>Run below command and look for <div class="binaryResultON" style="display: inline-block">[placeholder]</div> or <div class="binaryResultOFF" style="display: inline-block">[placeholder]</div></small></div>
        <div><code>sudo rtl_433 -C si</code></div>
      </div>

    </div>
    <p/>
    <div class="decimalResult">
      <div><b>Decimal code</b></div>
        ON: <div class="decimalResultON" style="display: inline-block">[placeholder]</div>
        OFF: <div class="decimalResultOFF" style="display: inline-block">[placeholder]</div>
      <p/>
      <div>
        <div><a href="https://github.com/milaq/rpi-rf" target="_blank">rpi-rf example:</a></div>
        <div><small>Adjust the number of repeats (-r) or pulselength (-p) - may be different depending on RPi version<br/>and/or its CPU load (positively tested on RPi zero with ~30-50% CPU load)</small></div>
        <div><code>rpi-rf_send <div class="decimalResultON" style="display: inline-block">[placeholder]</div> -p130 -t 1 -r 20 # ON</code></div>
        <div><code>rpi-rf_send <div class="decimalResultOFF" style="display: inline-block">[placeholder]</div> -p130 -t 1 -r 20 # OFF</code></div>
      </div>
      <p/>
      <div>
        <div><a href="https://github.com/ninjablocks/433Utils" target="_blank">433Utils -> RPi_utils</a> example:</div>
        <div>
          <small>
            On <a href="https://www.raspberrypi.com/news/bookworm-the-new-version-of-raspberry-pi-os/">Bookworm</a> Raspberry OS there is no official
            release of <a href="https://projects.drogon.net/raspberry-pi/wiringpi/download-and-install/" target="_blank">wiringpi</a> required by RPI_utils
          </small>
        </div>
        <div><code>./codesend <div class="decimalResultON" style="display: inline-block">[placeholder]</div> 1 # ON</code></div>
        <div><code>./codesend <div class="decimalResultOFF" style="display: inline-block">[placeholder]</div> 1 # OFF</code></div>
      </div>
      <p/>
      <div>
        <div><a href="https://github.com/markvader/ha-rpi_rf" target="_blank">Home Assistant -> rpi_rf</a> example:</div>
        <div>
          <small>
            Can be installed using <a href="">https://hacs.xyz/</a>
          </small>
        </div>
        <div>
          <br/>
          configuration.yaml:
          <pre>
<!--     -->switch:
<!--     -->  - platform: rpi_rf
<!--     -->    gpio: 17
<!--     -->    switches:
<!--     -->      your_switch_name:
<!--     -->        protocol: 1
<!--     -->        pulselength: 130
<!--     -->        code_on: <div class="decimalResultON" style="display: inline-block">[placeholder]</div>
<!--     -->        code_off: <div class="decimalResultOFF" style="display: inline-block">[placeholder]</div>
<!--     -->        length: 24
<!--     -->        signal_repetitions: 15
<!--     -->        unique_id: "orno.rc.switch.yourswitchname"
          </pre>
        <div>
      </div>

    </div>
  </div>
  <script>
    window.onload = function () {
      checkboxStateChanged('result');
    }
  </script>
</body>
</html>
